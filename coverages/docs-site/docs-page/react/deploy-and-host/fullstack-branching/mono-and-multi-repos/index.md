[<- Back to index](../../../../../docs-pages.md)

#  Snippets

Page: https://docs.amplify.aws/react/deploy-and-host/fullstack-branching/mono-and-multi-repos/

Coverage: 100.0%

#### `Terminal`

~~~
npm create next-app@14 -- multi-repo-example --typescript --eslint --no-app --no-src-dir --no-tailwind --import-alias '@/*'

~~~

| | |
| -- | -- |
| Hash | `9e86939baa24d516` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#12)

---

#### `Terminal`

~~~
cd multi-repo-example
npm add @aws-amplify/backend-cli aws-amplify @aws-amplify/ui-react

~~~

| | |
| -- | -- |
| Hash | `a96f0f3bf3b26739` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#12)

---

#### `Terminal`

~~~
npx ampx generate outputs --branch main --app-id <your-backend-app-id>

~~~

| | |
| -- | -- |
| Hash | `7665aa8c85d9a3b4` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#12)

---

#### `pages/_app.tsx`

~~~
import { withAuthenticator } from "@aws-amplify/ui-react";
import { Amplify } from "aws-amplify";
import outputs from "@/amplify_outputs.json";
import "@aws-amplify/ui-react/styles.css";
import "@/styles/globals.css";
import type { AppProps } from "next/app";

// configure the Amplify client library with the configuration generated by `ampx sandbox`
Amplify.configure(outputs);

function App({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />;
}

export default withAuthenticator(App);

~~~

| | |
| -- | -- |
| Hash | `39c8cf957000e6ac` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#12)

---

#### `Unnamed Snippet`

~~~
version: 1
backend:
  phases:
build:
  commands:
    - npm ci --cache .npm --prefer-offline
    - npx ampx generate outputs --branch main --app-id BACKEND-APPID
frontend:
  phases:
build:
  commands:
    - npm run build
  artifacts:
baseDirectory: .next
files:
  - '**/*'
  cache:
paths:
  - .next/cache/**/*
  - .npm/**/*
  - node_modules/**/*

~~~

| | |
| -- | -- |
| Hash | `c151f94686992927` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#12)

---

#### `amplify.yml`

~~~
version: 1
backend:
  phases:
build:
  commands:
    - npm ci --cache .npm --prefer-offline
    - npx ampx pipeline-deploy --branch $AWS_BRANCH --app-id $AWS_APP_ID
frontend:
  phases:
build:
  commands:
    - mkdir ./dist && touch ./dist/index.html
    - curl -X POST -d {} "https://webhooks.amplify.ca-central-1.amazonaws.com/prod/webhooks?id=WEBHOOK-ID&token=TOKEN&operation=startbuild" -H "Content-Type:application/json"
  artifacts:
baseDirectory: dist
files:
  - '**/*'
  cache:
paths:
  - node_modules/**/*

~~~

| | |
| -- | -- |
| Hash | `1f61d10d39fa9a83` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#14)

---

#### `tsconfig.json`

~~~
{
  "compilerOptions": {
"paths": {
  "@/data-schema": ["../backend-app/amplify/data/resource"]
}
  }
}

~~~

| | |
| -- | -- |
| Hash | `c74ee7916c8ae999` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/4-uncovered/deploy-and-host/index.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/4-uncovered/deploy-and-host/index.ts#14)

---

#### `apps/admin-dashboard/page.tsx`

~~~
import { generateClient } from "aws-amplify/data";
import type { Schema } from "@/data-schema";

const client = generateClient<Schema>();

const createTodo = async () => {
  await client.models.Todo.create({
content: window.prompt("Todo content?"),
isDone: false,
  });
};

~~~

| | |
| -- | -- |
| Hash | `3137a2b60aedf773` |
| Covered | ✅ |

##### Covering Regions

- [../../packages/integration-tests/\_\_tests\_\_/defined-behavior/1-patterns/mutate-data.ts](../../../../../../../packages/integration-tests/__tests__/defined-behavior/1-patterns/mutate-data.ts#57)

---

[<- Back to index](../../../../../docs-pages.md)
